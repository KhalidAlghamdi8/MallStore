<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>

        <h:outputStylesheet library="css" name="ShoppingCart.css" />
                <h:outputStylesheet library="css" name="styles.css" />

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>

    </h:head>
    <h:body>
        <ui:composition template="templates/masterLayout.xhtml">
            <ui:define name="content" >
                <h:form>
                    <h3>Cart Info</h3>
                    <h:form prependId="false">
                        <table>
                            <tr>
                                <th>Option</th>
                                <th>Id</th>
                                <th>Name</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Sub Total</th>
                            </tr>
                            <ui:repeat var="item" value="#{productsBean.getProductById(productId)}">
                                <tr>
                                    <td align="center">
                                        <h:commandLink value="X" action="#{cartManagedBean.delete(item.product)}"></h:commandLink>
                                    </td>
                                    <td>#{categoryBean.delete(product)}</td>
                                    <td>#{categoryBean.categoryId}</td>
                                    <td>#{categoryBean.categoryName}</td>
                                    <td>#{productsBean.getProductById(productId)}</td>
                                    <td>#{categoryBean.buy(product) * categoryBean.total()}</td>
                                </tr>
                            </ui:repeat>
                            <tr>
                                <td colspan="5" align="right">Total</td>
                                <td>#{categoryBean.total()}</td>
                            </tr>
                        </table>
                        <br></br>
                        <h:commandLink value="Continue Shopping" action="home.xhtml"></h:commandLink>
                    </h:form>


                </h:form>

            </ui:define>
        </ui:composition>


    </h:body>
</html>